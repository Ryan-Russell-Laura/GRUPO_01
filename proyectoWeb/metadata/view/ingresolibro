{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "autoShow": true,
        "designer|userAlias": "ingresolibro",
        "designer|userClassName": "ingresolibro",
        "height": 365,
        "modal": true,
        "title": "INGRESO DE LIBROS",
        "width": 611
    },
    "configAlternates": {
        "autoShow": "boolean",
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "height": "auto",
        "modal": "boolean",
        "title": "string",
        "width": "auto"
    },
    "name": "MyWindow",
    "designerId": "f7e7b02b-069f-49d9-85f5-c8dfa43ea584",
    "viewControllerInstanceId": "a423ff08-20db-44a3-a318-bf70bee309fc",
    "viewModelInstanceId": "3612bb72-d292-4bee-8d46-26cb98c496b2",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "height": 324,
                "layout": "column",
                "title": ""
            },
            "configAlternates": {
                "bodyPadding": "auto",
                "layout": "string",
                "title": "string",
                "height": "auto"
            },
            "name": "MyForm",
            "designerId": "93ae4e0b-2bcb-4b4b-a5b1-f9890e70c7bf",
            "cn": [
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "fieldLabel": "Titulo:",
                        "id": "libro_nombre",
                        "margin": "10 0 0 0",
                        "name": "libro_nombre",
                        "width": 276
                    },
                    "configAlternates": {
                        "allowBlank": "boolean",
                        "fieldLabel": "string",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "width": "auto"
                    },
                    "name": "MyTextField",
                    "designerId": "2d190fdf-2adf-4c97-b6ce-ca099dcabe70"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "disabled": true,
                        "dock": null,
                        "fieldLabel": "ID",
                        "id": "libro_id",
                        "margin": "10 0 0 5",
                        "name": "libro_id",
                        "width": 168
                    },
                    "configAlternates": {
                        "allowBlank": "boolean",
                        "fieldLabel": "string",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "width": "auto",
                        "disabled": "boolean",
                        "dock": "string"
                    },
                    "name": "MyTextField5",
                    "designerId": "cc7c7c28-7da8-44ee-b401-7aeac6ddca2b"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "dock": null,
                        "fieldLabel": "Editorial:",
                        "id": "libro_editorial",
                        "margin": "10 0 0 0",
                        "name": "libro_editorial",
                        "width": 276
                    },
                    "configAlternates": {
                        "fieldLabel": "string",
                        "allowBlank": "boolean",
                        "dock": "string",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "width": "auto"
                    },
                    "name": "MyTextField2",
                    "designerId": "36b4c678-1215-48e9-8a77-ae3de17cedda"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "fieldLabel": "Autor:",
                        "id": "libro_autor",
                        "margin": "15 0 0 5",
                        "name": "libro_autor",
                        "width": 273
                    },
                    "configAlternates": {
                        "fieldLabel": "string",
                        "allowBlank": "boolean",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "width": "auto"
                    },
                    "name": "MyTextField3",
                    "designerId": "4b41326d-5714-4bd1-9af6-4d06ecde2987"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "fieldLabel": "Fecha:",
                        "id": "libro_fecha",
                        "margin": "15 0 0 0",
                        "name": "libro_fecha",
                        "width": 276
                    },
                    "configAlternates": {
                        "fieldLabel": "string",
                        "allowBlank": "boolean",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "width": "auto"
                    },
                    "name": "MyTextField1",
                    "designerId": "0e3a3d14-20a5-4986-bcd7-e67317322611"
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": "Escoge una carrera...",
                        "displayField": "carrera_nombre",
                        "enableKeyEvents": true,
                        "fieldLabel": "Carrera",
                        "id": "carrera_id",
                        "margin": "15 0 0 5",
                        "name": "carrera_id",
                        "selectOnFocus": true,
                        "store": "storeCarrera",
                        "typeAhead": true,
                        "valueField": "carrera_id",
                        "width": 273
                    },
                    "configAlternates": {
                        "allowBlank": "boolean",
                        "blankText": "string",
                        "displayField": "datafield",
                        "enableKeyEvents": "boolean",
                        "fieldLabel": "string",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "selectOnFocus": "boolean",
                        "store": "store",
                        "typeAhead": "boolean",
                        "valueField": "datafield",
                        "width": "auto"
                    },
                    "name": "MyComboBox",
                    "designerId": "1da89aff-b054-4df9-9f9a-604acac49a58"
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": "Escoge un curso...",
                        "displayField": "curso_nombre",
                        "enableKeyEvents": true,
                        "fieldLabel": "Curso",
                        "id": "curso_id",
                        "margin": "15 0 0 0",
                        "name": "curso_id",
                        "selectOnFocus": true,
                        "store": "storeCurso",
                        "typeAhead": true,
                        "valueField": "curso_id"
                    },
                    "configAlternates": {
                        "allowBlank": "boolean",
                        "blankText": "string",
                        "displayField": "datafield",
                        "enableKeyEvents": "boolean",
                        "fieldLabel": "string",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "selectOnFocus": "boolean",
                        "store": "store",
                        "typeAhead": "boolean",
                        "valueField": "datafield"
                    },
                    "name": "MyComboBox1",
                    "designerId": "25cfe1fc-d272-4f50-b8c1-8788cefc8805"
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": "Escoge un periodo...",
                        "displayField": "semestre_periodo",
                        "enableKeyEvents": true,
                        "fieldLabel": "Semestre:",
                        "id": "semestre_id",
                        "margin": "15 0 0 5",
                        "name": "semestre_id",
                        "selectOnFocus": true,
                        "store": "storeSemestre",
                        "typeAhead": true,
                        "valueField": "semestre_id",
                        "width": 272
                    },
                    "configAlternates": {
                        "allowBlank": "boolean",
                        "blankText": "string",
                        "displayField": "datafield",
                        "enableKeyEvents": "boolean",
                        "fieldLabel": "string",
                        "id": "string",
                        "margin": "auto",
                        "name": "string",
                        "selectOnFocus": "boolean",
                        "store": "store",
                        "typeAhead": "boolean",
                        "valueField": "datafield",
                        "width": "auto"
                    },
                    "name": "MyComboBox2",
                    "designerId": "6b07ce1e-8908-4ed7-a468-be07c784217c"
                },
                {
                    "type": "Ext.form.field.File",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "emptyText": "Seleccione archivo...",
                        "fieldLabel": "Subir PDF",
                        "id": "FileInput",
                        "margin": "20 0 0 105",
                        "msgTarget": "side",
                        "name": "FileInput",
                        "width": 380
                    },
                    "configAlternates": {
                        "allowBlank": "boolean",
                        "emptyText": "string",
                        "fieldLabel": "string",
                        "id": "string",
                        "margin": "auto",
                        "msgTarget": "string",
                        "name": "string",
                        "width": "auto"
                    },
                    "name": "MyFileUpload",
                    "designerId": "1408ae95-808a-4e4b-99ad-57c12ad46370"
                },
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "bottom",
                        "height": 67
                    },
                    "configAlternates": {
                        "dock": "string",
                        "height": "auto"
                    },
                    "name": "MyToolbar2",
                    "designerId": "a7d6a300-8cbd-4abf-9eb1-cfcf96d169a8",
                    "cn": [
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "action": "grabarlibro",
                                "icon": "img/filesave.png",
                                "layout|flex": null,
                                "margin": "0 0 0 220",
                                "text": "Grabar"
                            },
                            "configAlternates": {
                                "action": "string",
                                "layout|flex": "number",
                                "margin": "auto",
                                "text": "string",
                                "icon": "string"
                            },
                            "name": "MyButton3",
                            "designerId": "6fd9cb45-a774-4b5b-9bc3-681e18d3b6b5",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "action",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "action": "guardarPDF",
                                "icon": "img/exit.png",
                                "layout|flex": null,
                                "margin": "",
                                "text": "Guardar PDF"
                            },
                            "configAlternates": {
                                "layout|flex": "number",
                                "margin": "auto",
                                "text": "string",
                                "action": "string",
                                "icon": "string"
                            },
                            "name": "MyButton8",
                            "designerId": "9f86d859-0be7-4933-9abb-b2894e60de09",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "action",
                                    "type": "string"
                                }
                            ],
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "var form = this.up('form').getForm();",
                                            "var win2 = button.up('ingresolibro');",
                                            "",
                                            "if(mode=='Agregar'){",
                                            "   if(form.isValid()){",
                                            "      form.submit({",
                                            "\turl:'GuardarPersonal.php',",
                                            "\tmethod: 'POST',",
                                            "\tparams:{",
                                            "\t  FileInput:FileInput,",
                                            "      libro_nombre:libro_nombre,",
                                            "\t  libro_autor:libro_autor,",
                                            "\t  libro_editorial:libro_editorial,",
                                            "\t  libro_fecha:libro_fecha,",
                                            "\t  carrera_id:carrera_id,",
                                            "\t  semestre_id:semestre_id,",
                                            "\t  curso_id:curso_id",
                                            "\t},",
                                            "\twaitMsg:'Subiendo archivo...',",
                                            "\tsuccess:function(response){",
                                            "\t  alert('Registrado correctamente...');",
                                            "\t  var store = Ext.getStore('storeLibro');",
                                            "\t  Ext.getCpm('grid');",
                                            "\t  store.load({",
                                            "\t\tparams:{",
                                            "\t\t\tlibro_nombre:libro_nombre",
                                            "\t\t}",
                                            "\t  });",
                                            "\t  win2.close();",
                                            "\t  return;",
                                            "\t},",
                                            "\t   failure: function(response){",
                                            "\t     Ext.Msg.alert('Mensaje','Error en el servidor');",
                                            "\t   }",
                                            "",
                                            "      });",
                                            "  }",
                                            "}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "designer|params": "typedarray",
                                        "fn": "string",
                                        "implHandler": "code"
                                    },
                                    "name": "handler",
                                    "designerId": "4b572754-3c8b-493e-bfe8-1bf0c17e0b17"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "action": "salir2",
                                "icon": "img/salir.png",
                                "layout|flex": null,
                                "text": "Salir"
                            },
                            "configAlternates": {
                                "action": "string",
                                "icon": "string",
                                "layout|flex": "number",
                                "text": "string"
                            },
                            "name": "MyButton7",
                            "designerId": "586fb600-0114-406d-98e7-f237c8856d86",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "action",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}